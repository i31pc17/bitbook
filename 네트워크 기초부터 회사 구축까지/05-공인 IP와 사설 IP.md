# π κ³µμΈ IPμ™€ μ‚¬μ„¤ IP, κ·Έλ¦¬κ³  NAT

## 1οΈβƒ£ κ³µμΈ IP (Public IP)

* **μΈν„°λ„·μ—μ„ μ§μ ‘ μ‚¬μ©λλ” μ£Όμ†**
* μ „ μ„Έκ³„μ—μ„ **μ μΌ**ν•΄μ•Ό ν•¨ (μ¤‘λ³µ λ¶κ°€)
* ISP(ν†µμ‹ μ‚¬)κ°€ κ³ κ°μ—κ² ν• λ‹Ή
* μ: `203.0.113.25`, `8.8.8.8` (κµ¬κΈ€ DNS)
* νΉμ§•:

    * μΈν„°λ„· μ–΄λ””μ„λ‚ μ ‘κ·Ό κ°€λ¥
    * μ£Όμ† κ°μκ°€ ν•μ •λμ–΄ μμ (IPv4 λ¶€μ΅± λ¬Έμ  λ°μƒ)

---

## 2οΈβƒ£ μ‚¬μ„¤ IP (Private IP)

* νμ‚¬λ‚ κ°€μ • **λ‚΄λ¶€ λ„¤νΈμ›ν¬μ—μ„λ§ μ‚¬μ©**
* μ™Έλ¶€ μΈν„°λ„·μ—μ„λ” μ§μ ‘ μ‚¬μ© λ¶κ°€
* λ„κµ¬λ‚ μμ λ΅­κ² μ“Έ μ μμ (μ¤‘λ³µ κ°€λ¥)

μ‚¬μ„¤ IP λ€μ—­ (RFC1918 κ·μ •):

* `10.0.0.0 ~ 10.255.255.255` (/8)
* `172.16.0.0 ~ 172.31.255.255` (/12)
* `192.168.0.0 ~ 192.168.255.255` (/16)

μ: `192.168.0.10`, `10.1.1.5`

π‘‰ κ·Έλμ„ μ§‘μ—μ„ μ“°λ” κ³µμ κΈ° IPλ” λ³΄ν†µ `192.168.x.x`

---

## 3οΈβƒ£ μ™ κ³µμΈ/μ‚¬μ„¤λ΅ λ‚λ΄μ„κΉ?

* μΈν„°λ„·μ— μ—°κ²°λ λ¨λ“  μ¥μΉμ— κ³µμΈ IPλ¥Ό μ£ΌκΈ°μ—λ” **IPv4 μ£Όμ†κ°€ λ¶€μ΅±**
* κ·Έλμ„ λ‚΄λ¶€λ§μ€ μ‚¬μ„¤ IPλ¥Ό μ“°κ³ ,
* μ™Έλ¶€μ™€ μ—°κ²°ν•  λ•λ§ κ³µμΈ IP ν•λ‚(or μ†μ)λ¥Ό μ‚¬μ©

---

## 4οΈβƒ£ NAT (Network Address Translation)

**NAT = μ‚¬μ„¤ IP β†” κ³µμΈ IP λ³€ν™ κΈ°μ **

* λΌμ°ν„°(κ³µμ κΈ°, pfSense)κ°€ μν–‰
* λ‚΄λ¶€ μ¥μΉκ°€ μΈν„°λ„·μ— λ‚κ° λ•:

    * μ‚¬μ„¤ IP(192.168.0.10) β†’ λΌμ°ν„°κ°€ κ°€μ§„ κ³µμΈ IP(203.0.113.25)λ΅ λ³€ν™
* μ™Έλ¶€ μ„λ²„κ°€ μ‘λ‹µν•  λ•:

    * κ³µμΈ IPλ΅ λ“¤μ–΄μ¨ λ°μ΄ν„° β†’ λ‚΄λ¶€μ μ¬λ°”λ¥Έ μ‚¬μ„¤ IPλ΅ μ „λ‹¬

---

## 5οΈβƒ£ NATμ μΆ…λ¥

* **SNAT (Source NAT)**

    * λ‚΄λ¶€ β†’ μ™Έλ¶€λ΅ λ‚κ° λ• μ¶λ°μ§€ μ£Όμ†λ¥Ό κ³µμΈ IPλ΅ λ°”κΏ”μ¤ (μΌλ°μ μΈ μΈν„°λ„· μ‚¬μ©)
* **DNAT (Destination NAT)**

    * μ™Έλ¶€ β†’ λ‚΄λ¶€λ΅ λ“¤μ–΄μ¬ λ• λ©μ μ§€ μ£Όμ†λ¥Ό μ‚¬μ„¤ IPλ΅ λ³€ν™ (ν¬νΈν¬μ›λ”©)
    * μ: νμ‚¬ λ‚΄λ¶€ μ›Ήμ„λ²„λ¥Ό μ™Έλ¶€μ—μ„ μ ‘μ† κ°€λ¥ν•κ² λ§λ“¤ λ• μ‚¬μ©

---

## 6οΈβƒ£ μμ‹ (κ°€μ •/νμ‚¬ λ„¤νΈμ›ν¬)

```mermaid
graph TD
    PC1[PC1 192.168.0.10] --> R1[λΌμ°ν„° NAT κ³µμΈ IP: 203.0.113.25]
    PC2[PC2 192.168.0.11] --> R1
    R1 --> I[μΈν„°λ„· μ: Google 8.8.8.8]
```

* λ‚΄λ¶€ PC1, PC2λ” **μ‚¬μ„¤ IP**λ§ κ°€μ§
* λΌμ°ν„°λ” μΈν„°λ„·κ³Ό μ—°κ²°λ **κ³µμΈ IP** ν•λ‚λ§ κ°€μ§
* NAT λ•λ¶„μ— PC1, PC2 λ¨λ‘ μΈν„°λ„·μ— μ ‘μ† κ°€λ¥

---

## β… μ”μ•½

* **κ³µμΈ IP**: μΈν„°λ„·μ—μ„ μ§μ ‘ ν†µμ‹  κ°€λ¥ν• μ μΌν• μ£Όμ†
* **μ‚¬μ„¤ IP**: λ‚΄λ¶€ μ „μ© μ£Όμ† (μ™Έλ¶€μ—μ„λ” μ§μ ‘ ν†µμ‹  λ¶κ°€)
* **NAT**: μ‚¬μ„¤ IP β†” κ³µμΈ IP λ³€ν™ κΈ°μ 

    * λ‚΄λ¶€ μ¥μΉ μ—¬λ¬ λ€κ°€ κ³µμΈ IP ν•λ‚λ¥Ό κ³µμ ν•΄ μΈν„°λ„· μ‚¬μ© κ°€λ¥
    * ν¬νΈν¬μ›λ”©(DNAT)μΌλ΅ μ™Έλ¶€μ—μ„ λ‚΄λ¶€ μ„λ²„ μ ‘μ† κ°€λ¥