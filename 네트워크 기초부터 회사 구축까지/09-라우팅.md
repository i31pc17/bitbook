# 📘 라우팅(Routing)과 IP 주소의 역할

## 1️⃣ LAN에서 WAN으로

* 지금까지 다룬 **스위치**는 같은 네트워크(LAN) 안에서만 통신 가능
* 하지만 지구 반대편 컴퓨터와 통신하려면, 수많은 네트워크 장비를 거쳐야 함
* 이때 단순히 “연결”이 아니라, **최적의 경로를 선택해 전달**해야 하는데 → 이것이 **라우팅(Routing)**

---

## 2️⃣ 라우팅(Routing)이란?

* 데이터를 목적지까지 전달하기 위해 **최적의 경로(Path)를 선택**하는 과정
* 라우팅을 수행하는 대표적인 장비가 바로 **라우터(Router)**
* 라우터는 라우팅 테이블을 참고하여, 패킷을 어디로 보낼지 결정

👉 즉, 라우팅 = 네트워크 세계의 네비게이션 🚗

---

## 3️⃣ MAC 주소만으로는 부족한 이유

* 스위치는 **MAC 주소**를 기반으로 같은 네트워크 안에서는 목적지를 찾을 수 있음
* 하지만 MAC 주소는 전 세계적으로 경로를 알 수 없음

    * 이유: MAC 주소는 **위치 정보**가 없음 (단순히 장치 식별용)
* 따라서, 전 세계 어디에 있든 경로를 지정할 수 있는 **논리 주소 = IP 주소**가 필요

---

## 4️⃣ MAC 주소 vs IP 주소

| 구분 | MAC 주소          | IP 주소                 |
| -- | --------------- | --------------------- |
| 의미 | 물리 주소 (하드웨어 고유) | 논리 주소 (네트워크 상 위치)     |
| 할당 | NIC 제조 시 고정     | 수동 할당 / DHCP 자동 할당 가능 |
| 개수 | 보통 1개 고정        | 한 호스트에 여러 개 가질 수 있음   |
| 범위 | 동일 네트워크(LAN)    | 네트워크 간(WAN/인터넷)       |

---

## 5️⃣ IP 주소 할당

* **고정(Static)**: 관리자가 직접 IP 부여
* **동적(DHCP)**: DHCP 서버가 자동으로 IP, 서브넷 마스크, 게이트웨이 할당
* 하나의 장치가 **여러 개의 IP**를 가질 수도 있음 (가상 인터페이스, 멀티홈 등)

---

## 6️⃣ 주소 해석: ARP (Address Resolution Protocol)

LAN 안에서 IP만으로 통신하려면, 실제로는 **상대방 MAC 주소**를 알아야 함.

* **동일 네트워크 내**:

    * 내 PC → ARP 요청: “192.168.0.5는 누구냐? MAC 주소 알려줘”
    * 해당 장치가 MAC 주소 응답 → 통신 시작

* **다른 네트워크에 있는 경우**:

    * 내 PC는 목적지의 MAC을 모름 → 대신 게이트웨이(라우터)의 MAC 주소를 사용
    * 라우터가 패킷을 받아서 다음 라우터로 전달 (계속 반복)

👉 정리:

* 같은 네트워크 → 목적지 MAC 주소 직접 획득 (ARP)
* 다른 네트워크 → 게이트웨이 MAC 주소 획득 → 라우터 통해 전달