# 🌐 IP 주소의 구조

## 1️⃣ IP 주소의 구성

IPv4 주소(32비트)는 두 부분으로 나뉩니다:

* **네트워크 주소(Network Part)** : 네트워크 자체를 구분
* **호스트 주소(Host Part)** : 네트워크 안에서 개별 장치 구분

예: `192.168.10.15` (서브넷 마스크 255.255.255.0 = /24)

* 네트워크 주소 = `192.168.10`
* 호스트 주소 = `15`

---

## 2️⃣ 호스트 수 계산

호스트 영역이 **n비트**라면:
👉 사용 가능한 호스트 수 = `2^n - 2`

* `-2` 이유:

    * **전부 0** = 네트워크 주소 (예약됨)
    * **전부 1** = 브로드캐스트 주소 (예약됨)

예: `/24` → 호스트 영역 8비트 → `2^8 - 2 = 254`대 사용 가능

---

## 3️⃣ 클래스풀(Classful) 주소 체계

과거에는 주소를 크게 A/B/C 클래스로 나눠 사용했습니다.

| 클래스 | 시작 비트  | 첫 옥텟 범위    | 네트워크/호스트 구분        | 호스트 수    |
| --- | ------ | ---------- | ------------------ | -------- |
| A   | `0xxx` | 0 \~ 127   | 네트워크(8) + 호스트(24)  | 약 1,600만 |
| B   | `10xx` | 128 \~ 191 | 네트워크(16) + 호스트(16) | 약 6만 5천  |
| C   | `110x` | 192 \~ 223 | 네트워크(24) + 호스트(8)  | 약 254    |

---

## 4️⃣ 클래스가 생긴 이유

* 호스트 수가 **너무 크면** → 주소 낭비
* 호스트 수가 **너무 작으면** → 주소 부족
* 그래서 필요에 따라 A/B/C 클래스를 정해 할당

---

## 5️⃣ 특별히 사용할 수 없는 주소

* **호스트 부분 = 0** → 네트워크 자체 주소
* **호스트 부분 = 1** → 브로드캐스트 주소

예: `192.168.10.0/24`

* `192.168.10.0` = 네트워크 주소
* `192.168.10.255` = 브로드캐스트 주소
* 사용 가능: `192.168.10.1 ~ 192.168.10.254`

---

## 6️⃣ 한계와 CIDR

* 클래스 방식은 단순했지만,

    * 예: 200대 필요한데 C 클래스(254개) → 애매하게 낭비
    * 예: 3000대 필요한데 B 클래스(65,534개) → 심각한 낭비
* 결국 주소 낭비 문제는 여전히 존재

👉 그래서 요즘은 **CIDR(Classless Inter-Domain Routing)** 방식을 사용

* `/n` (비트 수)로 네트워크 크기를 유연하게 나눔
* 예: `/26` = 호스트 62대, `/28` = 호스트 14대